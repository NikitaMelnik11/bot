<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ò–ò –ß–∞—Ç–±–æ—Ç</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="icon" type="images/x-icon"
    href="https://cdn.icon-icons.com/icons2/369/PNG/512/Tweetbot_37156.png">
    <style>
        :root {
            --primary-color: #4a4af4;
            --secondary-color: #f0f4ff;
            --text-color: #333;
            --bot-message-bg: #ffffff;
            --user-message-bg: var(--primary-color);
            --input-bg: #f5f7fb;
        }
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Open Sans', Arial, sans-serif;
            height: 100%;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 100%;
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--secondary-color);
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.1);
            border-radius: 20px;
            overflow: hidden;
        }
        .chat-header {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 20px;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5em;
            font-weight: 600;
            letter-spacing: 1px;
        }
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        .message {
            max-width: 80%;
            margin-bottom: 20px;
            padding: 15px 20px;
            border-radius: 20px;
            font-size: 1em;
            line-height: 1.5;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.3s ease-out forwards;
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .bot-message {
            background-color: var(--bot-message-bg);
            color: var(--text-color);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        .user-message {
            background-color: var(--user-message-bg);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        .chat-input {
            display: flex;
            padding: 20px;
            background-color: var(--input-bg);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        #user-input {
            flex: 1;
            padding: 15px 20px;
            border: none;
            border-radius: 30px;
            font-size: 1em;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        #user-input:focus {
            outline: none;
            box-shadow: 0 2px 20px rgba(74, 74, 244, 0.2);
        }
        #send-button, #voice-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 15px;
            margin-left: 10px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        #send-button:hover, #voice-button:hover {
            background-color: #3a3ad4;
            transform: scale(1.05);
        }
        .typing-indicator {
            display: flex;
            padding: 15px 20px;
            background-color: var(--bot-message-bg);
            border-radius: 20px;
            width: fit-content;
            margin-bottom: 20px;
            align-self: flex-start;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .typing-indicator span {
            height: 10px;
            width: 10px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
            animation: typing 1s infinite;
        }
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        @keyframes typing {
            0% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ò–ò –ß–∞—Ç–±–æ—Ç
        </div>
        <div class="chat-messages" id="chat-messages"></div>
        <div class="chat-input">
            <button id="voice-button" aria-label="–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥">üé§</button>
            <input type="text" id="user-input" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –Ω–∞—á–Ω–∏—Ç–µ –±–µ—Å–µ–¥—É...">
            <button id="send-button" aria-label="–û—Ç–ø—Ä–∞–≤–∏—Ç—å">‚û§</button>
        </div>
    </div>

    <script>
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');
        const voiceButton = document.getElementById('voice-button');

        let conversationContext = {
            topic: 'general',
            userInfo: {},
            recentMessages: []
        };

        const botKnowledge = {
            generalTopics: ['–Ω–∞—É–∫–∞', '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', '–∏—Å–∫—É—Å—Å—Ç–≤–æ', '–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–∏—Å—Ç–æ—Ä–∏—è', '—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è', '–ø—Å–∏—Ö–æ–ª–æ–≥–∏—è', '—ç–∫–æ–Ω–æ–º–∏–∫–∞', '–ø–æ–ª–∏—Ç–∏–∫–∞', '—Å–ø–æ—Ä—Ç'],
            scienceFields: ['—Ñ–∏–∑–∏–∫–∞', '—Ö–∏–º–∏—è', '–±–∏–æ–ª–æ–≥–∏—è', '–∞—Å—Ç—Ä–æ–Ω–æ–º–∏—è', '–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞'],
            literaryGenres: ['—Ä–æ–º–∞–Ω', '–ø–æ—ç–∑–∏—è', '–¥—Ä–∞–º–∞', '–Ω–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞', '—Ñ—ç–Ω—Ç–µ–∑–∏', '–¥–µ—Ç–µ–∫—Ç–∏–≤'],
            historicalPeriods: ['–¥—Ä–µ–≤–Ω–∏–π –º–∏—Ä', '—Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ', '–≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ', '–Ω–æ–≤–æ–µ –≤—Ä–µ–º—è', '—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å'],
            philosophicalConcepts: ['—ç—Ç–∏–∫–∞', '–º–µ—Ç–∞—Ñ–∏–∑–∏–∫–∞', '—ç–ø–∏—Å—Ç–µ–º–æ–ª–æ–≥–∏—è', '–ª–æ–≥–∏–∫–∞', '—ç—Å—Ç–µ—Ç–∏–∫–∞'],
            psychologicalTheories: ['–ø—Å–∏—Ö–æ–∞–Ω–∞–ª–∏–∑', '–±–∏—Ö–µ–≤–∏–æ—Ä–∏–∑–º', '–∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è', '–≥—É–º–∞–Ω–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è'],
            economicConcepts: ['–º–∏–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏–∫–∞', '–º–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏–∫–∞', '—Ñ–∏–Ω–∞–Ω—Å—ã', '–º–∞—Ä–∫–µ—Ç–∏–Ω–≥', '–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç'],
            politicalSystems: ['–¥–µ–º–æ–∫—Ä–∞—Ç–∏—è', '–∞–≤—Ç–æ—Ä–∏—Ç–∞—Ä–∏–∑–º', '—Ç–æ—Ç–∞–ª–∏—Ç–∞—Ä–∏–∑–º', '–º–æ–Ω–∞—Ä—Ö–∏—è', '—Ä–µ—Å–ø—É–±–ª–∏–∫–∞'],
            sportsCategories: ['–∫–æ–º–∞–Ω–¥–Ω—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞', '–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞', '–≤–æ–¥–Ω—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞', '–∑–∏–º–Ω–∏–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞']
        };

        function generateResponse(userMessage) {
            const lowerCaseMessage = userMessage.toLowerCase();
            
            // Update conversation context
            conversationContext.recentMessages.push(userMessage);
            if (conversationContext.recentMessages.length > 5) {
                conversationContext.recentMessages.shift();
            }

            // Check for greetings or farewells
            if (lowerCaseMessage.includes('–ø—Ä–∏–≤–µ—Ç') || lowerCaseMessage.includes('–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π')) {
                return "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –†–∞–¥ –≤–∞—Å –≤–∏–¥–µ—Ç—å. –û —á–µ–º –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å–µ–≥–æ–¥–Ω—è? –ú–æ–∂–µ—Ç –±—ã—Ç—å, –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —á—Ç–æ-—Ç–æ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –Ω–∞—É–∫–∏, –∏—Å–∫—É—Å—Å—Ç–≤–∞ –∏–ª–∏, –≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –Ω–æ–≤–∏–Ω–∫–∏?";
            } else if (lowerCaseMessage.includes('–ø–æ–∫–∞') || lowerCaseMessage.includes('–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è')) {
                return "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è! –ë—ã–ª–æ –æ—á–µ–Ω—å –ø—Ä–∏—è—Ç–Ω–æ –∏ –ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω–æ –æ–±—â–∞—Ç—å—Å—è —Å –≤–∞–º–∏. –ù–∞–¥–µ—é—Å—å, –Ω–∞—à–∞ –±–µ—Å–µ–¥–∞ –±—ã–ª–∞ –¥–ª—è –≤–∞—Å –ø–æ–ª–µ–∑–Ω–æ–π. –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å, –µ—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –Ω–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞—Ö–æ—á–µ—Ç—Å—è –æ–±—Å—É–¥–∏—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ç–µ–º—ã!";
            }

            // Check for specific topics
            for (const [category, topics] of Object.entries(botKnowledge)) {
                for (const topic of topics) {
                    if (lowerCaseMessage.includes(topic)) {
                        conversationContext.topic = topic;
                        return generateTopicResponse(topic, category);
                    }
                }
            }

            // If no specific topic is detected, use a more general response
            return generateGeneralResponse(lowerCaseMessage);
        }

        function generateTopicResponse(topic, category) {
            switch (category) {
                case 'generalTopics':
                    return `–ê—Ö, ${topic} - —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å! –û–Ω–∞ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∞—Å–ø–µ–∫—Ç–æ–≤ –Ω–∞—à–µ–π –∂–∏–∑–Ω–∏ –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è. –ï—Å—Ç—å –ª–∏ –∫–∞–∫–æ–π-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∞—Å–ø–µ–∫—Ç ${topic}, –∫–æ—Ç–æ—Ä—ã–π –≤–∞—Å –æ—Å–æ–±–µ–Ω–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?`;
                case 'scienceFields':
                    return `${topic.charAt(0).toUpperCase() + topic.slice(1)} - —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –Ω–∞—É—á–Ω–∞—è –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –ø–æ–Ω—è—Ç—å –º–∏—Ä –≤–æ–∫—Ä—É–≥ –Ω–∞—Å. –ö–∞–∫–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤ –æ–±–ª–∞—Å—Ç–∏ ${topic} –≤–∞—Å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤–ø–µ—á–∞—Ç–ª—è—é—Ç?`;
                case 'literaryGenres':
                    return `${topic.charAt(0).toUpperCase() + topic.slice(1)} - —ç—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –∂–∞–Ω—Ä –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ—Ä–∞–º –≤—ã—Ä–∞–∑–∏—Ç—å —Å–≤–æ–∏ –∏–¥–µ–∏ –∏ —á—É–≤—Å—Ç–≤–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –£ –≤–∞—Å –µ—Å—Ç—å –ª—é–±–∏–º—ã–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤ –∂–∞–Ω—Ä–µ ${topic}?`;
                case 'historicalPeriods':
                    return `${topic.charAt(0).toUpperCase() + topic.slice(1)} - —ç—Ç–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–π –ø–µ—Ä–∏–æ–¥ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞, –ø–æ–ª–Ω—ã–π –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –∏ –ø–µ—Ä–µ–º–µ–Ω. –ö–∞–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã ${topic} –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ –Ω–∞–∏–±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º–∏?`;
                case 'philosophicalConcepts':
                    return `${topic.charAt(0).toUpperCase() + topic.slice(1)} - —ç—Ç–æ –≤–∞–∂–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞—Å –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –±—ã—Ç–∏—è. –ö–∞–∫ –≤—ã –¥—É–º–∞–µ—Ç–µ, –∫–∞–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ ${topic} –æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–∞—à—É –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—É—é –∂–∏–∑–Ω—å?`;
                case 'psychologicalTheories':
                    return `${topic.charAt(0).toUpperCase() + topic.slice(1)} - —ç—Ç–æ –≤–ª–∏—è—Ç–µ–ª—å–Ω–∞—è —Ç–µ–æ—Ä–∏—è –≤ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤–∑–≥–ª—è–¥ –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –º—ã—à–ª–µ–Ω–∏–µ. –ö–∞–∫ –≤—ã –¥—É–º–∞–µ—Ç–µ, –Ω–∞—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞ —Ç–µ–æ—Ä–∏—è –ø—Ä–∏–º–µ–Ω–∏–º–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –º–∏—Ä–µ?`;
                case 'economicConcepts':
                    return `${topic.charAt(0).toUpperCase() + topic.slice(1)} –∏–≥—Ä–∞–µ—Ç –≤–∞–∂–Ω—É—é —Ä–æ–ª—å –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –ö–∞–∫ –≤—ã –¥—É–º–∞–µ—Ç–µ, –∫–∞–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã ${topic} –Ω–∞–∏–±–æ–ª–µ–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã –≤ —Ç–µ–∫—É—â–µ–π —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏?`;
                case 'politicalSystems':
                    return `${topic.charAt(0).toUpperCase() + topic.slice(1)} - —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è —Ñ–æ—Ä–º–∞ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ö–∞–∫–∏–µ, –ø–æ –≤–∞—à–µ–º—É –º–Ω–µ–Ω–∏—é, —Å–∏–ª—å–Ω—ã–µ –∏ —Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏–º–µ–µ—Ç —ç—Ç–∞ —Å–∏—Å—Ç–µ–º–∞?`;
                case 'sportsCategories':
                    return `${topic.charAt(0).toUpperCase() + topic.slice(1)} –ø—Ä–∏–≤–ª–µ–∫–∞—é—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–∫–ª–æ–Ω–Ω–∏–∫–æ–≤ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É. –ö–∞–∫–∏–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞ –∏–∑ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–∞–º –æ—Å–æ–±–µ–Ω–Ω–æ –Ω—Ä–∞–≤—è—Ç—Å—è –∏ –ø–æ—á–µ–º—É?`;
                default:
                    return generateGeneralResponse(topic);
            }
        }

        function generateGeneralResponse(input) {
            const responses = [
                `–ò–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –º—ã—Å–ª—å! –ú–æ–∂–µ—Ç–µ –ª–∏ –≤—ã —Ä–∞–∑–≤–∏—Ç—å –µ–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ? –ö–∞–∫ –≤—ã –ø—Ä–∏—à–ª–∏ –∫ —Ç–∞–∫–æ–º—É –≤—ã–≤–æ–¥—É?`,
                `–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∞—è —Ç–µ–º–∞. –ö–∞–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã ${input} –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ –Ω–∞–∏–±–æ–ª–µ–µ –∏–Ω—Ç—Ä–∏–≥—É—é—â–∏–º–∏?`,
                `–í–∞—à –≤–∑–≥–ª—è–¥ –Ω–∞ —ç—Ç–æ –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω. –ö–∞–∫ –≤—ã –¥—É–º–∞–µ—Ç–µ, –∫–∞–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ —ç—Ç–æ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å –Ω–∞ –æ–±—â–µ—Å—Ç–≤–æ –≤ —Ü–µ–ª–æ–º?`,
                `–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø–æ–¥–µ–ª–∏–ª–∏—Å—å —Å–≤–æ–∏–º –º–Ω–µ–Ω–∏–µ–º. –ê –≤—ã —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ –∑—Ä–µ–Ω–∏—è –Ω–∞ —ç—Ç—É —Ç–µ–º—É?`,
                `–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è. –ö–∞–∫ –≤—ã —Å—á–∏—Ç–∞–µ—Ç–µ, –∫–∞–∫ —ç—Ç–∞ –∏–¥–µ—è –º–æ–∂–µ—Ç —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –≤ –±—É–¥—É—â–µ–º?`
            ];
            return responses[Math.floor(Math.random() * responses.length)];
        }

        function addMessage(message, isUser) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message');
            messageElement.classList.add(isUser ? 'user-message' : 'bot-message');
            messageElement.textContent = message;
            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showTypingIndicator() {
            const indicator = document.createElement('div');
            indicator.className = 'typing-indicator';
            indicator.innerHTML = '<span></span><span></span><span></span>';
            chatMessages.appendChild(indicator);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return indicator;
        }

        function removeTypingIndicator(indicator) {
            chatMessages.removeChild(indicator);
        }

        function handleUserInput() {
            const message = userInput.value.trim();
            if (message) {
                addMessage(message, true);
                userInput.value = '';

                const typingIndicator = showTypingIndicator();

                setTimeout(() => {
                    removeTypingIndicator(typingIndicator);
                    const botResponse = generateResponse(message);
                    addMessage(botResponse, false);
                }, Math.random() * 1500 + 500); // Random delay between 500ms and 2000ms
            }
        }

        sendButton.addEventListener('click', handleUserInput);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleUserInput();
            }
        });

        // Voice input functionality
        if ('webkitSpeechRecognition' in window) {
            const recognition = new webkitSpeechRecognition();
            recognition.lang = 'ru-RU';
            recognition.continuous = false;
            recognition.interimResults = false;

            voiceButton.addEventListener('click', () => {
                recognition.start();
                voiceButton.textContent = 'üî¥';
            });

            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                userInput.value = transcript;
                voiceButton.textContent = 'üé§';
                handleUserInput();
            };

            recognition.onend = () => {
                voiceButton.textContent = 'üé§';
            };
        } else {
            voiceButton.style.display = 'none';
        }

        // Initial bot message
        setTimeout(() => {
            addMessage("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –≥–æ—Ç–æ–≤—ã–π –æ–±—Å—É–¥–∏—Ç—å —Å –≤–∞–º–∏ —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä —Ç–µ–º - –æ—Ç –Ω–∞—É–∫–∏ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –¥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞ –∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏. –ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ –æ–±—Å—É–¥–∏—Ç—å —Å–µ–≥–æ–¥–Ω—è?", false);
        }, 500);
    </script>
</body>
</html>